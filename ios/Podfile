require_relative '../node_modules/react-native/scripts/react_native_pods'
require_relative '../node_modules/@react-native-community/cli-platform-ios/native_modules'

use_modular_headers!

# Required b/c duplicate module headers
pod 'glog', :podspec => '../node_modules/react-native/third-party-podspecs/glog.podspec', :modular_headers => false

target 'BlobCourier' do
  platform :ios, '11.0'

  target 'BlobCourierTests' do
     config = use_native_modules!

     # Flags change depending on the env values.
     flags = get_default_flags()

     use_react_native!(
       :path => config[:reactNativePath],
       :hermes_enabled => flags[:hermes_enabled],
       :fabric_enabled => flags[:fabric_enabled],
       :app_path => "#{Pod::Config.instance.installation_root}/.."
     )

      # Pods for testing
      pod 'Embassy', '~> 4.1'
      pod 'EnvoyAmbassador', '~> 4.0'
      pod 'MimeParser', :git => "https://github.com/edeckers/MimeParser.git", :branch => "elydeckers/feature/change-deployment-target"
  end
end

